<style>
body {
  font-family: monospace;
  line-height: 1.5;
  margin: 0;
  padding: 4em 1em;
  background-color: #000;
  color: #0f0;
}

#text-container {
  max-width: 600px;
  margin: auto;
}

.type-text {
  white-space: pre-wrap;
}

.type-text span {
  color: transparent;
  transition: color 0.05s linear;
}

</style>
<div id="text-container">
    <div class="type-text">
        <h1>YOU START HERE</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ipsum mi, pulvinar at sapien sed, fringilla ultrices massa. Etiam id tellus ac nunc feugiat elementum. Fusce at vulputate nibh. Phasellus eget commodo magna. Cras a urna vitae diam viverra varius. Cras eu dictum purus. Morbi pellentesque nibh at suscipit tincidunt. Proin bibendum lorem eros. Donec bibendum diam non ipsum vehicula, vitae tempor justo varius. </p>
        <p>Duis id dapibus mauris. Nunc est turpis, tempus sed metus a, dignissim varius libero. Phasellus erat est, semper vitae vestibulum sed, porta vel justo. Donec fermentum rhoncus augue, in consectetur sapien commodo et. Suspendisse dictum aliquet arcu, ac dignissim enim tincidunt eu. Nunc faucibus varius arcu ac fermentum. Suspendisse facilisis enim ac ante molestie, eu viverra massa consequat. Cras a massa nisl. Integer luctus porttitor vehicula. Donec condimentum augue a justo volutpat feugiat. Pellentesque non ante in metus tempus placerat at in neque. Integer ornare suscipit elit, quis posuere sem vestibulum vel. Aenean ac erat lectus. Praesent tempus pellentesque diam, ut scelerisque ante dignissim varius. Integer mollis placerat magna. </p>
        <p>Vivamus aliquam, mauris eget lacinia pellentesque, elit nisi scelerisque eros, ut semper quam enim ut eros. Maecenas iaculis diam mi, quis varius lorem efficitur sed. Phasellus elementum, velit ac accumsan vehicula, tellus sem ultricies leo, et vestibulum ipsum odio eget leo. Vivamus sed lacus rutrum libero dictum dapibus blandit nec purus. Integer dapibus, lorem vitae vehicula bibendum, massa eros pharetra sem, eu sodales erat orci ac elit. Morbi facilisis ligula arcu. Mauris auctor lectus vitae lectus mollis efficitur. Maecenas condimentum diam vel blandit malesuada. Integer posuere sem nibh, eu sodales felis tristique nec. Nullam in augue lacinia, rhoncus enim nec, congue mi. Donec vestibulum vulputate ipsum non dignissim. </p>
        <p>Nulla imperdiet scelerisque faucibus. Maecenas aliquam, libero eu ultricies aliquet, risus felis consectetur velit, non pharetra nulla diam sed leo. Aliquam nec tortor lorem. Quisque at tellus convallis, imperdiet eros id, tincidunt ipsum. Praesent in sapien mattis, condimentum libero vehicula, sollicitudin elit. Cras dapibus quam velit, blandit dignissim erat condimentum sed. Integer dictum tempor odio, vel accumsan tellus feugiat eget. Nulla neque nibh, iaculis vel nisl maximus, dignissim lobortis velit. </p>
        <p>Ut suscipit massa eu placerat finibus. Donec ornare mauris sit amet dui lacinia finibus. Quisque et elit elit. Nunc eu leo interdum, congue diam eu, ornare felis. Ut quis turpis tincidunt, luctus nisi id, vulputate ex. Fusce ornare auctor sapien. Proin a magna fermentum, lobortis eros ut, bibendum purus. </p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ipsum mi, pulvinar at sapien sed, fringilla ultrices massa. Etiam id tellus ac nunc feugiat elementum. Fusce at vulputate nibh. Phasellus eget commodo magna. Cras a urna vitae diam viverra varius. Cras eu dictum purus. Morbi pellentesque nibh at suscipit tincidunt. Proin bibendum lorem eros. Donec bibendum diam non ipsum vehicula, vitae tempor justo varius. </p>
        <p>Duis id dapibus mauris. Nunc est turpis, tempus sed metus a, dignissim varius libero. Phasellus erat est, semper vitae vestibulum sed, porta vel justo. Donec fermentum rhoncus augue, in consectetur sapien commodo et. Suspendisse dictum aliquet arcu, ac dignissim enim tincidunt eu. Nunc faucibus varius arcu ac fermentum. Suspendisse facilisis enim ac ante molestie, eu viverra massa consequat. Cras a massa nisl. Integer luctus porttitor vehicula. Donec condimentum augue a justo volutpat feugiat. Pellentesque non ante in metus tempus placerat at in neque. Integer ornare suscipit elit, quis posuere sem vestibulum vel. Aenean ac erat lectus. Praesent tempus pellentesque diam, ut scelerisque ante dignissim varius. Integer mollis placerat magna. </p>
        <p>Vivamus aliquam, mauris eget lacinia pellentesque, elit nisi scelerisque eros, ut semper quam enim ut eros. Maecenas iaculis diam mi, quis varius lorem efficitur sed. Phasellus elementum, velit ac accumsan vehicula, tellus sem ultricies leo, et vestibulum ipsum odio eget leo. Vivamus sed lacus rutrum libero dictum dapibus blandit nec purus. Integer dapibus, lorem vitae vehicula bibendum, massa eros pharetra sem, eu sodales erat orci ac elit. Morbi facilisis ligula arcu. Mauris auctor lectus vitae lectus mollis efficitur. Maecenas condimentum diam vel blandit malesuada. Integer posuere sem nibh, eu sodales felis tristique nec. Nullam in augue lacinia, rhoncus enim nec, congue mi. Donec vestibulum vulputate ipsum non dignissim. </p>
        <p>Nulla imperdiet scelerisque faucibus. Maecenas aliquam, libero eu ultricies aliquet, risus felis consectetur velit, non pharetra nulla diam sed leo. Aliquam nec tortor lorem. Quisque at tellus convallis, imperdiet eros id, tincidunt ipsum. Praesent in sapien mattis, condimentum libero vehicula, sollicitudin elit. Cras dapibus quam velit, blandit dignissim erat condimentum sed. Integer dictum tempor odio, vel accumsan tellus feugiat eget. Nulla neque nibh, iaculis vel nisl maximus, dignissim lobortis velit. </p>
        <p>Ut suscipit massa eu placerat finibus. Donec ornare mauris sit amet dui lacinia finibus. Quisque et elit elit. Nunc eu leo interdum, congue diam eu, ornare felis. Ut quis turpis tincidunt, luctus nisi id, vulputate ex. Fusce ornare auctor sapien. Proin a magna fermentum, lobortis eros ut, bibendum purus. </p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ipsum mi, pulvinar at sapien sed, fringilla ultrices massa. Etiam id tellus ac nunc feugiat elementum. Fusce at vulputate nibh. Phasellus eget commodo magna. Cras a urna vitae diam viverra varius. Cras eu dictum purus. Morbi pellentesque nibh at suscipit tincidunt. Proin bibendum lorem eros. Donec bibendum diam non ipsum vehicula, vitae tempor justo varius. </p>
        <p>Duis id dapibus mauris. Nunc est turpis, tempus sed metus a, dignissim varius libero. Phasellus erat est, semper vitae vestibulum sed, porta vel justo. Donec fermentum rhoncus augue, in consectetur sapien commodo et. Suspendisse dictum aliquet arcu, ac dignissim enim tincidunt eu. Nunc faucibus varius arcu ac fermentum. Suspendisse facilisis enim ac ante molestie, eu viverra massa consequat. Cras a massa nisl. Integer luctus porttitor vehicula. Donec condimentum augue a justo volutpat feugiat. Pellentesque non ante in metus tempus placerat at in neque. Integer ornare suscipit elit, quis posuere sem vestibulum vel. Aenean ac erat lectus. Praesent tempus pellentesque diam, ut scelerisque ante dignissim varius. Integer mollis placerat magna. </p>
        <p>Vivamus aliquam, mauris eget lacinia pellentesque, elit nisi scelerisque eros, ut semper quam enim ut eros. Maecenas iaculis diam mi, quis varius lorem efficitur sed. Phasellus elementum, velit ac accumsan vehicula, tellus sem ultricies leo, et vestibulum ipsum odio eget leo. Vivamus sed lacus rutrum libero dictum dapibus blandit nec purus. Integer dapibus, lorem vitae vehicula bibendum, massa eros pharetra sem, eu sodales erat orci ac elit. Morbi facilisis ligula arcu. Mauris auctor lectus vitae lectus mollis efficitur. Maecenas condimentum diam vel blandit malesuada. Integer posuere sem nibh, eu sodales felis tristique nec. Nullam in augue lacinia, rhoncus enim nec, congue mi. Donec vestibulum vulputate ipsum non dignissim. </p>
        <p>Nulla imperdiet scelerisque faucibus. Maecenas aliquam, libero eu ultricies aliquet, risus felis consectetur velit, non pharetra nulla diam sed leo. Aliquam nec tortor lorem. Quisque at tellus convallis, imperdiet eros id, tincidunt ipsum. Praesent in sapien mattis, condimentum libero vehicula, sollicitudin elit. Cras dapibus quam velit, blandit dignissim erat condimentum sed. Integer dictum tempor odio, vel accumsan tellus feugiat eget. Nulla neque nibh, iaculis vel nisl maximus, dignissim lobortis velit. </p>
        <p>Ut suscipit massa eu placerat finibus. Donec ornare mauris sit amet dui lacinia finibus. Quisque et elit elit. Nunc eu leo interdum, congue diam eu, ornare felis. Ut quis turpis tincidunt, luctus nisi id, vulputate ex. Fusce ornare auctor sapien. Proin a magna fermentum, lobortis eros ut, bibendum purus. </p>
    </div>
</div>

<script>
const paragraphs = document.querySelectorAll('.type-text');
const letterSpans = [];
let currentIndex = 0;

// Step 1: Wrap each letter in a <span>
paragraphs.forEach(p => {
  const spans = [...p.textContent].map(char => {
    const span = document.createElement('span');
    span.textContent = char;
    return span;
  });
  p.textContent = '';
  spans.forEach(span => p.appendChild(span));
  letterSpans.push(...spans);
});

// Step 2: Function to reveal visible letters
function revealVisibleLetters(count = 1) {
  for (let i = 0; i < count && currentIndex < letterSpans.length; i++) {
    const span = letterSpans[currentIndex];
    if (isElementInViewport(span)) {
      span.style.color = '#0f0'; // or whatever visible color you want
      currentIndex++;
    } else {
      // Don't advance index unless it's visible
      break;
    }
  }
}

// Helper: Check if element is in viewport
function isElementInViewport(el) {
  const rect = el.getBoundingClientRect();
  return (
    rect.top >= 0 &&
    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
  );
}

// Step 3: On load, reveal initial visible letters
function revealOnLoad() {
  const interval = setInterval(() => {
    revealVisibleLetters(3); // <--
    if (currentIndex >= letterSpans.length) clearInterval(interval);
  }, 10); //<-- typing speed on load
}
window.addEventListener('load', revealOnLoad);

// Step 4: Scroll-based reveal
let lastScrollTop = window.pageYOffset;

window.addEventListener('scroll', () => {
  const scrollTop = window.pageYOffset;

  if (scrollTop > lastScrollTop) {
    // Scrolling down
    revealVisibleLetters(3); // <-- Typing speed on scroll
  }

  lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
});
</script>



